params {
    outdir = "./"
    publish_dir_mode = "copy"
    enable_conda = false
    singularity_pull_docker_container = false
}

profiles {
    debug { process.beforeScript = 'echo $HOSTNAME' }
    conda {
        params.enable_conda    = true
        docker.enabled         = false
        singularity.enabled    = false
        podman.enabled         = false
        shifter.enabled        = false
        charliecloud.enabled   = false
    }
    docker {
        docker.enabled         = true
        docker.userEmulation   = true
        singularity.enabled    = false
        podman.enabled         = false
        shifter.enabled        = false
        charliecloud.enabled   = false
    }
    singularity {
        singularity.enabled    = true
        singularity.autoMounts = true
        docker.enabled         = false
        podman.enabled         = false
        shifter.enabled        = false
        charliecloud.enabled   = false
    }
    podman {
        podman.enabled         = true
        docker.enabled         = false
        singularity.enabled    = false
        shifter.enabled        = false
        charliecloud.enabled   = false
    }
    shifter {
        shifter.enabled        = true
        docker.enabled         = false
        singularity.enabled    = false
        podman.enabled         = false
        charliecloud.enabled   = false
    }
    charliecloud {
        charliecloud.enabled   = true
        docker.enabled         = false
        singularity.enabled    = false
        podman.enabled         = false
        shifter.enabled        = false
    }
    gls {
        process.executor = 'google-lifesciences'
        params.genome = genomes.'GATK.GRCh38'
        params.genomes_base = 'gs://genomics-public-data/resources/broad/hg38/v0/'
        includeConfig 'conf/gcp_profile.config'
        includeConfig 'conf/gatkrefs_data.config'
    }
    nibsc {
        params.genome = genomes.'GATK.GRCh38'
        params.genomes_base = 's3://ngi-igenomes/igenomes/'
        includeConfig 'conf/nibsc_profile.config'
        includeConfig 'conf/igenomes_data.config'
    }
    test      { 
        params.genome = 'test_data.homo_sapiens.genome'
        params.genomes_base = 'https://raw.githubusercontent.com/nf-core/test-datasets/modules/data'
        includeConfig 'conf/test_profile.config'
        includeConfig 'conf/test_data.config'
    }
    test_gls      { 
        process.executor = 'google-lifesciences'
        params.genome = 'test_data.homo_sapiens.genome'
        params.genomes_base = 'https://raw.githubusercontent.com/nf-core/test-datasets/modules/data'
        includeConfig 'conf/gcp_profile.config'
        includeConfig 'conf/test_data.config'
    }
}

// Increase time available to build Conda environment
conda { createTimeout = "120 min" }

manifest {
    nextflowVersion = '!>=21.10.3'
}
